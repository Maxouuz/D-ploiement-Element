<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Rapport Sujet N°2</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">Rapport Sujet N°2</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#dernières-configurations-de-la-machine-virtuelle"><span class="toc-section-number">1</span> Dernières configurations de la Machine Virtuelle</a>
<ul>
<li><a href="#changement-du-nom-de-la-machine"><span class="toc-section-number">1.1</span> Changement du nom de la machine</a></li>
<li><a href="#installation-et-configuration-de-la-commande-sudo"><span class="toc-section-number">1.2</span> Installation et configuration de la commande sudo</a>
<ul>
<li><a href="#installation-de-sudo"><span class="toc-section-number">1.2.1</span> Installation de sudo</a></li>
<li><a href="#configuration-de-sudo"><span class="toc-section-number">1.2.2</span> Configuration de sudo</a></li>
</ul></li>
<li><a href="#configuration-de-la-synchronisation-dhorloge"><span class="toc-section-number">1.3</span> Configuration de la synchronisation d’horloge</a></li>
<li><a href="#installation-et-configuration-basique-dun-serveur-de-base-de-données"><span class="toc-section-number">1.4</span> Installation et configuration basique d’un serveur de base de données</a>
<ul>
<li><a href="#installation-de-postgresql"><span class="toc-section-number">1.4.1</span> Installation de PostGreSQL</a></li>
<li><a href="#créer-un-utilisateur-de-la-base-de-données"><span class="toc-section-number">1.4.2</span> Créer un utilisateur de la base de données</a></li>
<li><a href="#création-dune-base-de-donnée"><span class="toc-section-number">1.4.3</span> Création d’une base de donnée</a></li>
<li><a href="#utilisation-de-la-base-de-données"><span class="toc-section-number">1.4.4</span> Utilisation de la base de données</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 data-number="1" id="dernières-configurations-de-la-machine-virtuelle"><span class="header-section-number">1</span> Dernières configurations de la Machine Virtuelle</h1>
<h2 data-number="1.1" id="changement-du-nom-de-la-machine"><span class="header-section-number">1.1</span> Changement du nom de la machine</h2>
<p>Afin de changer le nom de la machine virtuelle, nous nous connectons tout d’abord à la machine en SSH comme vu dans le compte rendu précédent et nous nous connectons également à root.</p>
<p>Ensuite nous devons modifier le fichier <em>/etc/hostname</em> avec la commande</p>
<p><code>nano /etc/hostaname</code></p>
<p>et y remplacer <strong>debian</strong> par <strong>matrix</strong>.</p>
<p>En suite il nous faut aller changer un autre fichier</p>
<p><code>nano /etc/hosts</code></p>
<p>pour changer également <strong>debian</strong> en <strong>matrix</strong>. Le changement de ce fichier permettra de lier une adresse IP au nouveau nom : <strong>matrix</strong>.</p>
<p>Pour que cela soit pris en compte on devra <strong>reboot</strong> la machine.</p>
<h2 data-number="1.2" id="installation-et-configuration-de-la-commande-sudo"><span class="header-section-number">1.2</span> Installation et configuration de la commande sudo</h2>
<h3 data-number="1.2.1" id="installation-de-sudo"><span class="header-section-number">1.2.1</span> Installation de sudo</h3>
<p>Avant d’installer <strong>sudo</strong> nous avons utilisé la commande (<em>en étant root</em>):</p>
<p><code>apt-get update</code></p>
<p>puis afin d’installer le paquet <strong>sudo</strong> nous avons fait :</p>
<p><code>apt-get install sudo</code></p>
<h3 data-number="1.2.2" id="configuration-de-sudo"><span class="header-section-number">1.2.2</span> Configuration de sudo</h3>
<p>Il nous faut ajouter l’utilisateur <strong>user</strong> au groupe sudo et faire un reboot de la machine.</p>
<p>afin de ne pas modifier le fichier <em>/etc/sudoers</em>, nous avons fait la commande suivante (<em>en tant que root</em>) :</p>
<p><code>usermod user -G sudo</code></p>
<h2 data-number="1.3" id="configuration-de-la-synchronisation-dhorloge"><span class="header-section-number">1.3</span> Configuration de la synchronisation d’horloge</h2>
<p>On remarque que la machine virtuelle avance d’une heure. Le problème peut être vu à l’aide de la commande :</p>
<p><code>sudo journalctl -u systemd-timesyncd</code></p>
<p>Afin de coordonner l’heure aux serveur <strong>NTP</strong> de l’université, il suffit de modifier le fichier <em>/etc/systemd/timesyncd.conf</em></p>
<p>avec cette ligne : <strong>[Time] NTP=ntp.univ-lille.fr</strong></p>
<h2 data-number="1.4" id="installation-et-configuration-basique-dun-serveur-de-base-de-données"><span class="header-section-number">1.4</span> Installation et configuration basique d’un serveur de base de données</h2>
<h3 data-number="1.4.1" id="installation-de-postgresql"><span class="header-section-number">1.4.1</span> Installation de PostGreSQL</h3>
<p>Pour installer PostGreSQL on utilise les commandes suivantes (à partir de root):</p>
<p><code>apt-get update</code> pour mettre à jour les paquets</p>
<p>et</p>
<p><code>apt-get install postgresql</code></p>
<h3 data-number="1.4.2" id="créer-un-utilisateur-de-la-base-de-données"><span class="header-section-number">1.4.2</span> Créer un utilisateur de la base de données</h3>
<p>Afin de créer un un utilisateur de la base donnée, on doit au préalable se connecter à un utilisateur ayant les droits. Ici, l’user postgre possède tous les droits depuis l’installation</p>
<p>Ainsi il faut effectuer (<em>en tant que sudo</em>):</p>
<p><code>su - postgres</code></p>
<p>Une fois connecté avec l’user <strong>postgres</strong> , on va donc créer un nouvel utilistauer avec la commande :</p>
<p><code>createuser matrix --pwprompt</code></p>
<p>et on mettra comme <strong>password</strong> <strong>matrix</strong></p>
<h3 data-number="1.4.3" id="création-dune-base-de-donnée"><span class="header-section-number">1.4.3</span> Création d’une base de donnée</h3>
<p>Pour créer la base de données, nous avons utlisé la commande</p>
<p><code>createdb  matrix -O matrix</code></p>
<p>et nous nous sommes connectés sur cette base (<em>en user de la machine virtuelle</em>) avec la commande :</p>
<p><code>psql -U matrix -h localhost matrix</code></p>
<h3 data-number="1.4.4" id="utilisation-de-la-base-de-données"><span class="header-section-number">1.4.4</span> Utilisation de la base de données</h3>
<p>Nous avons ensuite crées une table nommé test à l’aide de la commande :</p>
<p><code>CREATE TABLE test (texte text);</code></p>
<p>et nous y avons insérés trois valeurs à l’aide de la commande :</p>
<p><code>INSERT INTO test values ('a'),('b'),('c');</code></p>
</body>
</html>
